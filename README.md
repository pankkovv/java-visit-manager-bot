# java-visit-manager-bot

## Описание приложения

Бот-визитка - позволяет познакомить нового посетителя тг-канала с творчеством автора.
Программа имеет удобное пользовательское меню, которое предоставляет возможность ознакомиться с информацией об авторе,
продаваемых товарах, шаблонах для индивидуальных заказов и отзывах.

Также продумана логика взаимодействия бота и админа с помощью текстовых команд. С их помощью, админ
имеет возможность создать/обновить/удалить любой объект, представленных в структуре данных.

Данный проект является индивидуальным заказом современного художника,
которое призвано упростить ведение малого бизнеса на популярной цифровой площадке -
Telegram.
----

## Основные функции

#### Функции юзера (выполнено с помощью меню, с логикой распределения функционала):

- Просмотр ознакомительной информации об авторе
- Просмотр готовых товаров или примеров заготовок для оформления индивидуального заказа
- Оформить срочный заказ
- Встать в общую очередь для индивидуального заказа
- Посмотреть отзывы

#### Функции админа (команды создания/обновления/удаления)

#### Анкета

- создать-анкету: необходимо указать
  описание, которое бот должен отображать, по желанию, можно прикрепить 1 фото

- редактировать-анкету: необходимо указать
  новое описание, которое бот должен отображать, по желанию можно прикрепить 1 новое фото

- удалить-анкету

#### Товары:

- создать-товар: необходимо указать
  имя товара,
  описание,
  стоимость,
  категория,
  тип товара (заказ или наличие),
  по желанию можно прикрепить 1 фото

- редактировать-товар: необходимо указать
  id,
  имя: новое имя,
  описание: новое описание,
  стоимость: новая стоимость,
  категория: новая категория,
  тип товара (заказ или наличие): новый тип,
  по желанию можно прикрепить 1 новое фото

- удалить-товар: необходимо указать id

#### Отзывы:

- создать-отзыв: необходимо указать
  описание, по желанию можно прикрепить 1 фото

- редактировать-отзыв: необходимо указать
  id,
  описание: новое описание,
  по желанию можно прикрепить 1 новое фото

- удалить-отзыв: необходимо указать id

#### Категории:

- создать-категорию: необходимо указать описание

- посмотреть-категории

- удалить-категорию: необходимо указать id

#### Очередь:

- посмотреть-очередь

- удалить-очередь: необходимо ник пользователя
----

### __*примеры команд:*__

----
создать-анкету

описание своей деятельности

+прикрепить фото по желанию

____
создать-товар

имя

описание

цена

категория

тип (заказ, наличие)

+прикрепить фото по желанию
___

редактировать-товар

id

имя: новое имя

описание: новое описание

цена: новая цена

категория: новая категория + прикрепить фото по желанию

тип: новый тип + прикрепить фото по желанию

-* *(можно указать сразу все новые поля товара или же поля по выбору,
которые вы хотите изменить)*
___

### ER-диаграмма
![SCHEME](https://github.com/pankkovv/java-visit-manager-bot/blob/main/ER-diagram%20.jpg?raw=true)

----

### Пример обращения к БД:
```Data JPA
Profile getFormByUsername(String username);

void deleteById(Long id);

boolean existsByUsername(String username);
```
----

## Пример java-кода:

```java
        log.debug("Пользователь '" + userName + "' нажал кнопку '" + button + "'");

        if (profileService.containsProfile(userName)) {
        sendPhoto.setCaption(CommandMessage.HELP_ADMIN.label);
        sendPhoto.setReplyMarkup(Button.getHelpAdminButton());
        } else {
        sendPhoto.setCaption(CommandMessage.HELP_COMMON.label);
        sendPhoto.setReplyMarkup(Button.getStartButton());
        }

        sendPhoto.setChatId(String.valueOf(chatId));
        sendPhoto.setPhoto(new InputFile(new File("img/help.jpg")));
```
----
## Стек
- JDK 11
- Spring Boot
- Spring Data JPA
- Hibernate
- PostgreSQL
- Lombok
- Log4j
- Telegram APIs